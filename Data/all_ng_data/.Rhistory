df <- df[,c(1:which(colnames(df) == "Number.of.Customers")[1])]
df <- select(df, Data.Year, Utility.Number, Utility.Name, State,
Ownership, SAIDI.With.MED, SAIFI.With.MED,CAIDI.With.MED,
SAIDI.Without.MED, SAIFI.Without.MED,CAIDI.Without.MED,Number.of.Customers)
df <- filter(df, !is.na(Data.Year))
## Figure 1
wi <- filter(df, State == "WI")
df <- group_by(df, State)
View(wi)
ggplot(wi, aes(Number.of.Customers, color = Ownership)) + geom_bar(position = "identity")
ggplot(wi, aes(Number.of.Customers, color = Ownership)) + geom_bar())
ggplot(wi, aes(Number.of.Customers, color = Ownership)) + geom_bar()
ggplot(wi, aes(Number.of.Customers, color = Ownership)) + geom_bar(position = "count")
ggplot(wi, aes(Number.of.Customers, color = Ownership)) + geom_bar(stat = "identity")
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, color = Ownership)) +
geom_bar(stat = "identity") + coord_flip()
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + coord_flip()
View(wi)
wi <- arrange(wi, desc(Number.of.Customers))
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order ) + coord_flip()
## Figure 1
wi <- filter(df, State == "WI")
wi <- arrange(wi, Number.of.Customers)
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
wi <- filter(wi, !is.na(Number.of.Customers))
wi <- arrange(wi, Number.of.Customers)
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
# Figure 2
df <- group_by(df, State)
## read in EIA form 861
name_repair <- function(colname){str_replace_all(colname, " ", ".")}
df <- read_excel("./Data/f8612019/Reliability_2019.xlsx", skip = 1, na = c("", "."),
.name_repair = name_repair)
## keep only IEEE standard figures
df <- df[,c(1:which(colnames(df) == "Number.of.Customers")[1])]
df <- select(df, Data.Year, Utility.Number, Utility.Name, State,
Ownership, SAIDI.With.MED, SAIFI.With.MED,CAIDI.With.MED,
SAIDI.Without.MED, SAIFI.Without.MED,CAIDI.Without.MED,Number.of.Customers)
df <- filter(df, !is.na(Data.Year))
# Figure 2
df <- group_by(df, State)
colnames(df)
density(df$SAIDI.With.MED)
blah <- filter(df, !is.na(SAIDI.With.MED))
density(df$SAIDI.With.MED)
View(blah)
ggplot(blah, aes(SAIDI.With.MED)) + geom_density()
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIDI.With.MED, na.rm = T),
CAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIDI.With.MED, na.rm = T),
CAIDI.Without.MED = mean(SAIDI.With.MED, na.rm = T))
df <- arrange(df, SAIDI.With.MED)
order <- results$State
results <- arrange(results, SAIDI.With.MED)
order <- results$State
View(results)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + geom_text(aes(label=len), vjust=-0.3, size=3.5)+ coord_flip()
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + geom_text(aes(label=SAIDI.With.MED), vjust=-0.3, size=3.5)+ coord_flip()
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + geom_text(aes(label=round(SAIDI.With.MED)), vjust=-0.3, size=3.5)+ coord_flip()
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + geom_text(aes(label=round(SAIDI.With.MED)), size=3.5)+ coord_flip()
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + geom_text(aes(label=round(SAIDI.With.MED)))+ coord_flip()
ggplot(results, aes(y = SAIDI.With.MED, x = State)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
View(results)
fig2 <- select(results, State, SAIDI.With.MED, SAIDIwMED_diff)
View(fig2)
install.packages("tidyr")
library(tidyr)
fig2 <- pivot_longer(fig2, names_to = "variable", values_to = "values")
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
View(fig2)
ggplot(results, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
## set working directory
setwd("C:/Users/TedCallon/Desktop/Utility Performance Data Project")
## read in libraries
library(ggplot2)
library(dplyr)
library(readxl)
library(stringr)
library(tidyr)
## read in EIA form 861
name_repair <- function(colname){str_replace_all(colname, " ", ".")}
df <- read_excel("./Data/f8612021/Reliability_2021.xlsx", skip = 1, na = c("", "."),
.name_repair = name_repair)
## keep only IEEE standard figures
df <- df[,c(1:which(colnames(df) == "Number.of.Customers")[1])]
df <- select(df, Data.Year, Utility.Number, Utility.Name, State,
Ownership, SAIDI.With.MED, SAIFI.With.MED,CAIDI.With.MED,
SAIDI.Without.MED, SAIFI.Without.MED,CAIDI.Without.MED,Number.of.Customers)
df <- filter(df, !is.na(Data.Year))
## Figure 1
wi <- filter(df, State == "WI")
wi <- filter(wi, !is.na(Number.of.Customers))
wi <- arrange(wi, Number.of.Customers)
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.With.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
## read in EIA form 861
name_repair <- function(colname){str_replace_all(colname, " ", ".")}
df <- read_excel("./Data/f8612021/Reliability_2021.xlsx", skip = 1, na = c("", "."),
.name_repair = name_repair)
## keep only IEEE standard figures
df <- df[,c(1:which(colnames(df) == "Number.of.Customers")[1])]
df <- select(df, Data.Year, Utility.Number, Utility.Name, State,
Ownership, SAIDI.With.MED, SAIFI.With.MED,CAIDI.With.MED,
SAIDI.Without.MED, SAIFI.Without.MED,CAIDI.Without.MED,Number.of.Customers)
df <- filter(df, !is.na(Data.Year))
## Figure 1
wi <- filter(df, State == "WI")
wi <- filter(wi, !is.na(Number.of.Customers))
wi <- arrange(wi, Number.of.Customers)
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.With.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
View(results)
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = median(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = median(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = median(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = median(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = median(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = median(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.With.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
View(results)
View(df)
HI <- filter(df, State = "HI")
df <- filter(df, !is.na(Utility.Number))
## Figure 1
wi <- filter(df, State == "WI")
wi <- filter(wi, !is.na(Number.of.Customers))
wi <- arrange(wi, Number.of.Customers)
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
## Figure 1
HI <- filter(df, State == "HI")
View(HI)
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.With.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
View(results)
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.Without.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip() +
scale_fill_discrete(c("SAIDIwMED_diff","SAIDI.Without.MED"))
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
fig2 <- select(results, State, SAIDIwMED_diff, SAIDI.Without.MED)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDIwMED_diff, SAIDI.Without.MED)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
fig2 <- select(results, State, SAIDI.Without.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.Without.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
View(fig2)
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDIwMED_diff, SAIDI.Without.MED)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
fig2 <- select(results, State, SAIDI.Without.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
fig2$variable <- as.factor(fig2$variable)
fig2$variable
fig2$variable <- relevel(fig2$variable, "SAIDIwMED_diff")
fig2$variable
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 5
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig5 <- select(results, State, SAIFI.Without.MED, SAIFIwMED_diff)
fig5 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 5
results <- arrange(results, SAIDI.With.MED)
order <- results$State
# Figure 5
results <- arrange(results, SAIDI.With.MED)
order <- results$State
# Figure 5
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
# Figure 5
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIFIwMED_diff <- results$SAIFI.With.MED - results$SAIFI.Without.MED
fig5 <- select(results, State, SAIFI.Without.MED, SAIFIwMED_diff)
fig5 <- pivot_longer(fig2, cols = starts_with("SAIFI"), names_to = "variable", values_to = "values")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
ggplot(fig5, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 5
results <- arrange(results, SAIDI.With.MED)
rm(list = ls())
## set working directory
setwd("C:/Users/TedCallon/Desktop/Utility Performance Data Project")
## read in libraries
library(ggplot2)
library(dplyr)
library(readxl)
library(stringr)
library(tidyr)
## read in EIA form 861
name_repair <- function(colname){str_replace_all(colname, " ", ".")}
df <- read_excel("./Data/f8612021/Reliability_2021.xlsx", skip = 1, na = c("", "."),
.name_repair = name_repair)
## keep only IEEE standard figures
df <- df[,c(1:which(colnames(df) == "Number.of.Customers")[1])]
df <- select(df, Data.Year, Utility.Number, Utility.Name, State,
Ownership, SAIDI.With.MED, SAIFI.With.MED,CAIDI.With.MED,
SAIDI.Without.MED, SAIFI.Without.MED,CAIDI.Without.MED,Number.of.Customers)
df <- filter(df, !is.na(Utility.Number))
## Figure 1
wi <- filter(df, State == "WI")
wi <- filter(wi, !is.na(Number.of.Customers))
wi <- arrange(wi, Number.of.Customers)
order <- wi$Utility.Name
ggplot(wi, aes(y = Number.of.Customers, x = Utility.Name, fill = Ownership)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order) + coord_flip()
# Figure 2
df <- group_by(df, State)
results <- summarise(df, SAIDI.With.MED = mean(SAIDI.With.MED, na.rm = T),
SAIFI.With.MED = mean(SAIFI.With.MED, na.rm = T),
CAIDI.With.MED = mean(CAIDI.With.MED, na.rm = T),
SAIDI.Without.MED = mean(SAIDI.Without.MED, na.rm = T),
SAIFI.Without.MED = mean(SAIFI.Without.MED, na.rm = T),
CAIDI.Without.MED = mean(CAIDI.Without.MED, na.rm = T))
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig2 <- select(results, State, SAIDI.Without.MED, SAIDIwMED_diff)
fig2 <- pivot_longer(fig2, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
fig2$variable <- as.factor(fig2$variable)
fig2$variable <- relevel(fig2$variable, "SAIDIwMED_diff")
ggplot(fig2, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 5
results <- arrange(results, SAIDI.With.MED)
order <- results$State
results$SAIFIwMED_diff <- results$SAIFI.With.MED - results$SAIFI.Without.MED
fig5 <- select(results, State, SAIFI.Without.MED, SAIFIwMED_diff)
fig5 <- pivot_longer(fig2, cols = starts_with("SAIFI"), names_to = "variable", values_to = "values")
fig5 <- pivot_longer(fig5, cols = starts_with("SAIFI"), names_to = "variable", values_to = "values")
ggplot(fig5, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 5
results <- arrange(results, SAIFI.With.MED)
order <- results$State
results$SAIFIwMED_diff <- results$SAIFI.With.MED - results$SAIFI.Without.MED
fig5 <- select(results, State, SAIFI.Without.MED, SAIFIwMED_diff)
fig5 <- pivot_longer(fig5, cols = starts_with("SAIFI"), names_to = "variable", values_to = "values")
ggplot(fig5, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
fig5$variable <- as.factor(fig5$variable)
fig5$variable <- relevel(fig5$variable, "SAIFIwMED_diff")
ggplot(fig5, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
fig8 <- select(results, State, CAIDI.Without.MED, CAIDIwMED_diff)
# Figure 8
results <- arrange(results, CAIDI.With.MED)
order <- results$State
results$CAIDIwMED_diff <- results$CAIDI.With.MED - results$CAIDI.Without.MED
fig8 <- select(results, State, CAIDI.Without.MED, CAIDIwMED_diff)
fig8 <- pivot_longer(fig8, cols = starts_with("CAIDI"), names_to = "variable", values_to = "values")
fig8$variable <- as.factor(fig8$variable)
fig8$variable <- relevel(fig8$variable, "CAIDIwMED_diff")
ggplot(fig8, aes(y = values, x = State, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 13
results <- arrange(wi, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
# Figure 13
results <- arrange(wi, SAIDI.With.MED)
order <- results$State
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
View(results)
fig13 <- select(results, Utility.Name, SAIDI.Without.MED, SAIDIwMED_diff)
View(fig13)
fig13 <- select(results, Utility.Name, SAIDI.Without.MED, SAIDIwMED_diff)
fig13 <- pivot_longer(fig13, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
View(fig13)
fig13$variable <- as.factor(fig13$variable)
fig13$variable <- relevel(fig13$variable, "SAIDIwMED_diff")
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# Figure 13
results <- arrange(wi, SAIDI.With.MED)
order <- results$Utility.Name
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig13 <- select(results, Utility.Name, SAIDI.Without.MED, SAIDIwMED_diff)
fig13 <- pivot_longer(fig13, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
fig13$variable <- as.factor(fig13$variable)
fig13$variable <- relevel(fig13$variable, "SAIDIwMED_diff")
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip() + facet_grid(~.Ownership)
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip() + facet_grid(.~Ownership)
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip() + facet_grid(~Ownership)
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip() + facet_wrap(vars(Ownership))
# Figure 13
results <- arrange(wi, SAIDI.With.MED)
order <- results$Utility.Name
results$SAIDIwMED_diff <- results$SAIDI.With.MED - results$SAIDI.Without.MED
fig13 <- select(results, Utility.Name, Ownership, SAIDI.Without.MED, SAIDIwMED_diff)
fig13 <- pivot_longer(fig13, cols = starts_with("SAIDI"), names_to = "variable", values_to = "values")
fig13$variable <- as.factor(fig13$variable)
fig13$variable <- relevel(fig13$variable, "SAIDIwMED_diff")
ggplot(fig13, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip() + facet_wrap(vars(Ownership))
# Figure 14
results <- arrange(wi, CAIDI.With.MED)
order <- results$Utility.Name
results$CAIDIwMED_diff <- results$CAIDI.With.MED - results$CAIDI.Without.MED
fig14 <- select(results, Utility.Name, Ownership, CAIDI.Without.MED, CAIDIwMED_diff)
fig14 <- pivot_longer(fig14, cols = starts_with("CAIDI"), names_to = "variable", values_to = "values")
fig14$variable <- as.factor(fig14$variable)
fig14$variable <- relevel(fig14$variable, "CAIDIwMED_diff")
ggplot(fig14, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
View(wi)
# Figure 15
results <- arrange(wi, SAIFI.With.MED)
order <- results$Utility.Name
results$SAIFIwMED_diff <- results$SAIFI.With.MED - results$SAIFI.Without.MED
fig15 <- select(results, Utility.Name, Ownership, SAIFI.Without.MED, SAIFIwMED_diff)
fig15 <- pivot_longer(fig15, cols = starts_with("SAIFI"), names_to = "variable", values_to = "values")
fig15$variable <- as.factor(fig15$variable)
fig15$variable <- relevel(fig15$variable, "SAIFIwMED_diff")
ggplot(fig15, aes(y = values, x = Utility.Name, fill = variable)) +
geom_bar(stat = "identity") + scale_x_discrete(limits= order)+ coord_flip()
# read in gas data
NG <- read.excel("./Data/all_data_176.xlsx")
# read in gas data
NG <- read_excel("./Data/all_data_176.xlsx")
# read in gas data
NG <- read_excel("./Data/all_data_176.xls")
# read in gas data
NG <- read.csv("./Data/all_data_176.csv")
setwd("C:/Users/TedCallon/Desktop/Utility Performance Data Project/Data/all_ng_data")
dir()
# read in gas data
NG <- read.csv("./Data/all_data_176.csv")
# read in gas data
NG <- read.csv("all_data_176.csv")
# read in gas data
NG <- read.csv("all_data_176.csv", nrows = 200)
# read in gas data
NG <- read.csv("all_data_176.csv", nrows = 10)
# read in gas data
NG <- read.csv("all_data_176.csv", nrows = 1)
read.delim("all_data_176.csv")
# read in gas data
NG <- read_excel("all_data_176.csv", sheet = 1, nrows = 1)
# read in gas data
NG <- read_excel("all_data_176.csv", sheet = 1)
View(NG)
# read in gas data
NG <- data.frame()
NG <- read_excel("all_data_176.csv", sheet = 15)
# read in gas data
NG <- data.frame()
### this is hard coded. figure out how to use error captures to make this not hard coded
for(i = 1:14){
### this is hard coded. figure out how to use error captures to make this not hard coded
for(for i in 1:14){
### this is hard coded. figure out how to use error captures to make this not hard coded
for (i in 1:14){
temp <- read_excel("all_data_176.csv", sheet = i)
NG <- rbind(NG, temp)
}
